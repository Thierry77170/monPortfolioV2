{"ast":null,"code":"var _jsxFileName = \"/Volumes/Disque externe/Projets web personnels/Mon Porfolio V2/monPortfolio/src/components/slider/Slider.jsx\",\n  _s = $RefreshSig$();\n// REACT\nimport { useEffect, useState } from 'react';\n\n// COMPONENTS\nimport ProjectCard from \"../projectCard/ProjectCard\";\nimport BtnSlider from \"../btnSlider/BtnSlider\";\n\n// STYLE\nimport './slider.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Slider() {\n  _s();\n  const [projects, setProjects] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isSmallScreen, setIsSmallScreen] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(\"https://firestore.googleapis.com/v1/projects/monportfolio-8dd08/databases/(default)/documents/works\");\n        const data = await response.json();\n        const projectsFields = data.documents.map(doc => doc.fields);\n        setProjects(projectsFields);\n        console.log(\"fetchData\", projectsFields);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const handleResize = () => {\n      setIsSmallScreen(window.innerWidth < 880);\n    };\n    window.addEventListener('resize', handleResize);\n    handleResize(); // Appel initial pour définir l'état initial\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const getRotateY = (index, total) => {\n    const middleIndex = Math.floor(total / 2);\n    const middleRange = [middleIndex - 2, middleIndex - 1, middleIndex, middleIndex + 1, middleIndex + 2];\n    const adjustedIndex = (index - currentIndex + total) % total;\n    if (adjustedIndex < middleRange[0]) {\n      return -45;\n    } else if (adjustedIndex > middleRange[4]) {\n      return 45;\n    } else {\n      switch (adjustedIndex - (middleIndex - 2)) {\n        case 0:\n          return -45;\n        case 1:\n          return -22.5;\n        case 2:\n          return 0;\n        case 3:\n          return 22.5;\n        case 4:\n          return 45;\n        default:\n          return 0;\n      }\n    }\n  };\n  const getTranslateZ = (index, total) => {\n    const middleIndex = Math.floor(total / 2);\n    const middleRange = [middleIndex - 2, middleIndex - 1, middleIndex, middleIndex + 1, middleIndex + 2];\n    const adjustedIndex = (index - currentIndex + total) % total;\n    if (adjustedIndex < middleRange[0] || adjustedIndex > middleRange[4]) {\n      return isSmallScreen ? 300 : 500;\n    } else {\n      switch (adjustedIndex - (middleIndex - 2)) {\n        case 0:\n          return isSmallScreen ? 260 : 400;\n        case 1:\n          return isSmallScreen ? 280 : 450;\n        case 2:\n          return isSmallScreen ? 300 : 500;\n        case 3:\n          return isSmallScreen ? 280 : 450;\n        case 4:\n          return isSmallScreen ? 260 : 400;\n        default:\n          return isSmallScreen ? 300 : 500;\n      }\n    }\n  };\n  const getOpacity = (index, total) => {\n    const middleIndex = Math.floor(total / 2);\n    const middleRange = [middleIndex - 2, middleIndex - 1, middleIndex, middleIndex + 1, middleIndex + 2];\n    const adjustedIndex = (index - currentIndex + total) % total;\n    if (adjustedIndex < middleRange[0] || adjustedIndex > middleRange[4]) {\n      return 0;\n    } else {\n      switch (adjustedIndex - (middleIndex - 2)) {\n        case 0:\n          return isSmallScreen ? 0 : 0.7;\n        case 1:\n          return isSmallScreen ? 0 : 0.85;\n        case 2:\n          return 1;\n        case 3:\n          return isSmallScreen ? 0 : 0.85;\n        case 4:\n          return isSmallScreen ? 0 : 0.7;\n        default:\n          return isSmallScreen ? 0 : 1;\n      }\n    }\n  };\n  console.log(currentIndex);\n  const handleClickPrevBtn = () => {\n    setCurrentIndex(prevIndex => (prevIndex - 1 + projects.length) % projects.length);\n  };\n  const handleClickNextBtn = () => {\n    setCurrentIndex(nextIndex => (nextIndex + 1) % projects.length);\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"sliderContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sliderContainer__slider\",\n      children: projects.map((project, index) => {\n        const rotateY = getRotateY(index, projects.length);\n        const translateZ = getTranslateZ(index, projects.length);\n        const opacity = getOpacity(index, projects.length);\n        const style = {\n          transform: `rotateY(${rotateY}deg) translateZ(${translateZ}px)`,\n          opacity: opacity\n        };\n        return /*#__PURE__*/_jsxDEV(ProjectCard, {\n          project: project,\n          style: style\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sliderContainer__btnContainer\",\n      children: [/*#__PURE__*/_jsxDEV(BtnSlider, {\n        value: \"<\",\n        onClick: handleClickPrevBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BtnSlider, {\n        value: \">\",\n        onClick: handleClickNextBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n}\n_s(Slider, \"HU8dzB0+mmREj1KtmQqS96wLu+M=\");\n_c = Slider;\nexport default Slider;\nvar _c;\n$RefreshReg$(_c, \"Slider\");","map":{"version":3,"names":["useEffect","useState","ProjectCard","BtnSlider","jsxDEV","_jsxDEV","Slider","_s","projects","setProjects","currentIndex","setCurrentIndex","isSmallScreen","setIsSmallScreen","fetchData","response","fetch","data","json","projectsFields","documents","map","doc","fields","console","log","error","handleResize","window","innerWidth","addEventListener","removeEventListener","getRotateY","index","total","middleIndex","Math","floor","middleRange","adjustedIndex","getTranslateZ","getOpacity","handleClickPrevBtn","prevIndex","length","handleClickNextBtn","nextIndex","className","children","project","rotateY","translateZ","opacity","style","transform","fileName","_jsxFileName","lineNumber","columnNumber","value","onClick","_c","$RefreshReg$"],"sources":["/Volumes/Disque externe/Projets web personnels/Mon Porfolio V2/monPortfolio/src/components/slider/Slider.jsx"],"sourcesContent":["// REACT\nimport { useEffect, useState } from 'react';\n\n// COMPONENTS\nimport ProjectCard from \"../projectCard/ProjectCard\";\nimport BtnSlider from \"../btnSlider/BtnSlider\";\n\n// STYLE\nimport './slider.scss';\n\nfunction Slider() {\n    const [projects, setProjects] = useState([]);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [isSmallScreen, setIsSmallScreen] = useState(false);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await fetch(\"https://firestore.googleapis.com/v1/projects/monportfolio-8dd08/databases/(default)/documents/works\");\n                const data = await response.json();\n                const projectsFields = data.documents.map(doc => doc.fields);\n                setProjects(projectsFields);\n                console.log(\"fetchData\", projectsFields);\n            } catch (error) {\n                console.error(\"Error fetching data:\", error);\n            }\n        }\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n      const handleResize = () => {\n          setIsSmallScreen(window.innerWidth < 880);\n      };\n  \n      window.addEventListener('resize', handleResize);\n      handleResize(); // Appel initial pour définir l'état initial\n  \n      return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n    const getRotateY = (index, total) => {\n        const middleIndex = Math.floor(total / 2);\n        const middleRange = [middleIndex - 2, middleIndex - 1, middleIndex, middleIndex + 1, middleIndex + 2];\n        const adjustedIndex = (index - currentIndex + total) % total;\n        if (adjustedIndex < middleRange[0]) {\n          return -45;\n        } else if (adjustedIndex > middleRange[4]) {\n          return 45;\n        } else {\n          switch (adjustedIndex - (middleIndex - 2)) {\n            case 0: return -45;\n            case 1: return -22.5;\n            case 2: return 0;\n            case 3: return 22.5;\n            case 4: return 45;\n            default: return 0;\n          }\n        }\n    };\n\n    const getTranslateZ = (index, total) => {\n        const middleIndex = Math.floor(total / 2);\n        const middleRange = [middleIndex - 2, middleIndex - 1, middleIndex, middleIndex + 1, middleIndex + 2];\n        const adjustedIndex = (index - currentIndex + total) % total;\n        if (adjustedIndex < middleRange[0] || adjustedIndex > middleRange[4]) {\n          return isSmallScreen ? 300 : 500;\n        } else {\n          switch (adjustedIndex - (middleIndex - 2)) {\n            case 0: return isSmallScreen ? 260 : 400;\n            case 1: return isSmallScreen ? 280 : 450;\n            case 2: return isSmallScreen ? 300 : 500;\n            case 3: return isSmallScreen ? 280 : 450;\n            case 4: return isSmallScreen ? 260 : 400;\n            default: return isSmallScreen ? 300 : 500;\n        }\n        }\n    };\n\n    const getOpacity = (index, total) => {\n      const middleIndex = Math.floor(total / 2);\n      const middleRange = [middleIndex - 2, middleIndex - 1, middleIndex, middleIndex + 1, middleIndex + 2];\n      const adjustedIndex = (index - currentIndex + total) % total;\n      if (adjustedIndex < middleRange[0] || adjustedIndex > middleRange[4]) {\n        return 0;\n      } else {\n        switch (adjustedIndex - (middleIndex - 2)) {\n          case 0: return isSmallScreen ? 0 : 0.7;\n          case 1: return isSmallScreen ? 0 : 0.85;\n          case 2: return 1;\n          case 3: return isSmallScreen ? 0 : 0.85;\n          case 4: return isSmallScreen ? 0 : 0.7;\n          default: return isSmallScreen ? 0 : 1;\n        }\n      }\n  };\n\n  console.log(currentIndex);\n\n  const handleClickPrevBtn = () => {\n    setCurrentIndex((prevIndex) => (prevIndex - 1 + projects.length) % projects.length);\n  }\n\n  const handleClickNextBtn = () => {\n    setCurrentIndex((nextIndex) => (nextIndex + 1) % projects.length);\n  }\n\n    return (\n        <section className='sliderContainer'>\n            <div className='sliderContainer__slider'>\n                {projects.map((project, index) => {\n                    const rotateY = getRotateY(index, projects.length);\n                    const translateZ = getTranslateZ(index, projects.length);\n                    const opacity = getOpacity(index, projects.length);\n                    const style = {\n                        transform: `rotateY(${rotateY}deg) translateZ(${translateZ}px)`,\n                        opacity: opacity\n                    }\n                    return <ProjectCard \n                      key={index} \n                      project={project} \n                      style={style} \n                      />\n                })}\n            </div>\n            <div className='sliderContainer__btnContainer'>\n                <BtnSlider \n                    value=\"<\" \n                    onClick={handleClickPrevBtn}\n                />\n                <BtnSlider \n                    value=\">\" \n                    onClick={handleClickNextBtn}\n                />\n            </div>\n           \n        </section> \n    )\n}\n\nexport default Slider;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}